def stat_calculation(skill, skill_final, tickrate):
    from io import BytesIO
    from PIL import Image, ImageDraw, ImageFont

    

    levels_skill = ['55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '100', '101', '102', '103', '104', '105', '106', '107', '108', '109', '110', '111', '112', '113', '114', '115', '116', '117', '118', '119', '120', '121', '122', '123', '124', '125', '126', '127', '128', '129', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '141', '142', '143', '144', '145', '146', '147', '148', '149', '150', '151', '152', '153', '154', '155', '156', '157', '158', '159', '160', '161', '162', '163', '164', '165', '166', '167', '168', '169', '170', '171', '172', '173', '174', '175', '176', '177', '178', '179', '180', '181', '182', '183', '184', '185', '186', '187', '188', '189', '190', '191', '192', '193', '194', '195', '196', '197', '198', '199', '200', '201', '202', '203', '204', '205', '206', '207', '208', '209', '210', '211', '212', '213', '214', '215', '216', '217', '218', '219', '220', '221', '222', '223', '224', '225', '226', '227', '228', '229', '230', '231', '232', '233', '234', '235', '236', '237', '238', '239', '240', '241', '242', '243', '244', '245', '246', '247', '248', '249', '250', '251', '252', '253', '254', '255', '256', '257', '258', '259', '260', '261', '262', '263', '264', '265', '266', '267', '268', '269', '270', '271', '272', '273', '274', '275', '276', '277', '278', '279', '280', '281', '282', '283', '284', '285', '286', '287', '288', '289', '290', '291', '292', '293', '294', '295', '296', '297', '298', '299', '300', '301', '302', '303', '304', '305', '306', '307', '308', '309', '310', '311', '312', '313', '314', '315', '316', '317', '318', '319', '320', '321', '322', '323', '324', '325', '326', '327', '328', '329', '330', '331', '332', '333', '334', '335', '336', '337', '338', '339', '340', '341', '342', '343', '344', '345', '346', '347', '348', '349', '350', '351', '352', '353', '354', '355', '356', '357', '358', '359', '360', '361', '362', '363', '364', '365', '366', '367', '368', '369', '370', '371', '372', '373', '374', '375', '376', '377', '378', '379', '380', '381', '382', '383', '384', '385', '386', '387', '388', '389', '390', '391', '392', '393', '394', '395', '396', '397', '398', '399', '400', '401', '402', '403', '404', '405', '406', '407', '408', '409', '410', '411', '412', '413', '414', '415', '416', '417', '418', '419', '420', '421', '422', '423', '424', '425', '426', '427', '428', '429', '430', '431', '432', '433', '434', '435', '436', '437', '438', '439', '440', '441', '442', '443', '444', '445', '446', '447', '448', '449', '450', '451', '452', '453', '454', '455', '456', '457', '458', '459', '460', '461', '462', '463', '464', '465', '466', '467', '468', '469', '470', '471', '472', '473', '474', '475', '476', '477', '478', '479', '480', '481', '482', '483', '484', '485', '486', '487', '488', '489', '490', '491', '492', '493', '494', '495', '496', '497', '498', '499', '500', '501', '502', '503', '504', '505', '506', '507', '508', '509', '510', '511', '512', '513', '514', '515', '516', '517', '518', '519', '520', '521', '522', '523', '524', '525', '526', '527', '528', '529', '530', '531', '532', '533', '534', '535', '536', '537', '538', '539', '540', '541', '542', '543', '544', '545', '546', '547', '548', '549', '550', '551', '552', '553', '554', '555', '556', '557', '558', '559', '560', '561', '562', '563', '564', '565', '566', '567', '568', '569', '570', '571', '572', '573', '574', '575', '576', '577', '578', '579', '580', '581', '582', '583', '584', '585', '586', '587', '588', '589', '590', '591', '592', '593', '594', '595', '596', '597', '598', '599', '600', '601', '602', '603', '604', '605', '606', '607', '608', '609', '610', '611', '612', '613', '614', '615', '616', '617', '618', '619', '620', '621', '622', '623', '624', '625', '626', '627', '628', '629', '630', '631', '632', '633', '634', '635', '636', '637', '638', '639', '640', '641', '642', '643', '644', '645', '646', '647', '648', '649', '650', '651', '652', '653', '654', '655', '656', '657', '658', '659', '660', '661', '662', '663', '664', '665', '666', '667', '668', '669', '670', '671', '672', '673', '674', '675', '676', '677', '678', '679', '680', '681', '682', '683', '684', '685', '686', '687', '688', '689', '690', '691', '692', '693', '694', '695', '696', '697', '698', '699', '700', '701', '702', '703', '704', '705', '706', '707', '708', '709', '710', '711', '712', '713', '714', '715', '716', '717', '718', '719', '720', '721', '722', '723', '724', '725', '726', '727', '728', '729', '730', '731', '732', '733', '734', '735', '736', '737', '738', '739', '740', '741', '742', '743', '744', '745', '746', '747', '748', '749', '750', '751', '752', '753', '754', '755', '756', '757', '758', '759', '760', '761', '762', '763', '764', '765', '766', '767', '768', '769', '770', '771', '772', '773', '774', '775', '776', '777', '778', '779', '780', '781', '782', '783', '784', '785', '786', '787', '788', '789', '790', '791', '792', '793', '794', '795', '796', '797', '798', '799', '800', '801', '802', '803', '804', '805', '806', '807', '808', '809', '810', '811', '812', '813', '814', '815', '816', '817', '818', '819', '820', '821', '822', '823', '824', '825', '826', '827', '828', '829', '830', '831', '832', '833', '834', '835', '836', '837', '838', '839', '840', '841', '842', '843', '844', '845', '846', '847', '848', '849', '850', '851', '852', '853', '854', '855', '856', '857', '858', '859', '860', '861', '862', '863', '864', '865', '866', '867', '868', '869', '870', '871', '872', '873', '874', '875', '876', '877', '878', '879', '880', '881', '882', '883', '884', '885', '886', '887', '888', '889', '890', '891', '892', '893', '894', '895', '896', '897', '898', '899', '900', '901', '902', '903', '904', '905', '906', '907', '908', '909', '910', '911', '912', '913', '914', '915', '916', '917', '918', '919', '920', '921', '922', '923', '924', '925', '926', '927', '928', '929', '930', '931', '932', '933', '934', '935', '936', '937', '938', '939', '940', '941', '942', '943', '944', '945', '946', '947', '948', '949', '950', '951', '952', '953', '954', '955', '956', '957', '958', '959', '960', '961', '962', '963', '964', '965', '966', '967', '968', '969', '970', '971', '972', '973', '974', '975', '976', '977', '978', '979', '980', '981', '982', '983', '984', '985', '986', '987', '988', '989', '990', '991', '992', '993', '994', '995', '996', '997', '998', '999', '1000']

    # exp_to_next_skill = ['325', '333', '343', '353', '362', '373', '382', '393', '404', '414', '425', '435', '447', '458', '470', '481', '493', '505', '517', '530', '542', '555', '568', '581', '594', '607', '621', '635', '650', '664', '679', '693', '708', '723', '738', '755', '770', '786', '803', '819', '836', '853', '870', '888', '906', '924', '942', '961', '980', '999', '1018', '1037', '1058', '1078', '1098', '1119', '1140', '1162', '1184', '1205', '1228', '1250', '1273', '1296', '1320', '1343', '1368', '1392', '1417', '1443', '1468', '1494', '1520', '1547', '1574', '1601', '1629', '1657', '1686', '1715', '1744', '1773', '1803', '1834', '1865', '1896', '1927', '1959', '1992', '2025', '2058', '2092', '2126', '2161', '2197', '2232', '2268', '2304', '2342', '2379', '2417', '2456', '2495', '2534', '2575', '2615', '2657', '2698', '2740', '2784', '2827', '2870', '2914', '2960', '3006', '3051', '3098', '3145', '3193', '3242', '3291', '3341', '3392', '3442', '3494', '3547', '3600', '3654', '3708', '3764', '3820', '3875', '3933', '3991', '4050', '4109', '4169', '4230', '4292', '4354', '4418', '4481', '4547', '4612', '4679', '4746', '4814', '4883', '4953', '5024', '5095', '5167', '5241', '5316', '5391', '5467', '5544', '5621', '5700', '5780', '5862', '5944', '6026', '6110', '6195', '6281', '6368', '6456', '6545', '6635', '6727', '6819', '6913', '7008', '7104', '7201', '7299', '7398', '7499', '7600', '7704', '7808', '7914', '8021', '8128', '8238', '8349', '8460', '8574', '8688', '8805', '8922', '9041', '9162', '9284', '9407', '9531', '9657', '9785', '9914', '10045', '10177', '10311', '10447', '10583', '10722', '10862', '11005', '11148', '11293', '11441', '11589', '11740', '11892', '12046', '12202', '12359', '12519', '12681', '12844', '13010', '13176', '13345', '13517', '13690', '13865', '14042', '14222', '14403', '14586', '14772', '14960', '15149', '15341', '15536', '15733', '15931', '16132', '16336', '16542', '16751', '16961', '17174', '17390', '17608', '17828', '18051', '18278', '18505', '18736', '18970', '19206', '19445', '19687', '19931', '20178', '20429', '20682', '20937', '21196', '21458', '21723', '21991', '22262', '22535', '22812', '23093', '23376', '23663', '23952', '24246', '24542', '24842', '25145', '25452', '25763', '26076', '26394', '26714', '27039', '27367', '27699', '28035', '28375', '28717', '29064', '29416', '29771', '30129', '30493', '30859', '31231', '31607', '31986', '32370', '32758', '33151', '33548', '33949', '34355', '34766', '35181', '35601', '36025', '36454', '36888', '37328', '37771', '38220', '38674', '39133', '39596', '40066', '40540', '41019', '41504', '41995', '42490', '42991', '43498', '44011', '44529', '45053', '45582', '46118', '46659', '47207', '47761', '48320', '48886', '49458', '50037', '50622', '51213', '51811', '52415', '53026', '53644', '54269', '54900', '55539', '56184', '56836', '57496', '58164', '58838', '59519', '60209', '60906', '61611', '62323', '63042', '63770', '64506', '65250', '66002', '66763', '67532', '68308', '69094', '69888', '70691', '71503', '72323', '73153', '73991', '74838', '75695', '76561', '77437', '78323', '79217', '80122', '81035', '81960', '82894', '83839', '84794', '85759', '86734', '87720', '88717', '89725', '90744', '91773', '92814', '93867', '94930', '96004', '97091', '98190', '99300', '100422', '101556', '102703', '103862', '105034', '106218', '107414', '108625', '109847', '111084', '112332', '113595', '114872', '116162', '117465', '118784', '120116', '121463', '122824', '124199', '125590', '126995', '128416', '129851', '131302', '132769', '134251', '135749', '137263', '138794', '140341', '141904', '143485', '145082', '146696', '148327', '149976', '151642', '153327', '155030', '156750', '158489', '160246', '162022', '163818', '165632', '167465', '169318', '171191', '173084', '174997', '176930', '178883', '180858', '182855', '184871', '186909', '188969', '191051', '193156', '195282', '197431', '199602', '201797', '204015', '206256', '208522', '210811', '213125', '215462', '217825', '220214', '222627', '225065', '227530', '230020', '232537', '235081', '237651', '240248', '242874', '245526', '248207', '250916', '253654', '256421', '259216', '262042', '264896', '267781', '270697', '273643', '276620', '279629', '282669', '285741', '288846', '291983', '295154', '298357', '301594', '304866', '308171', '311511', '314887', '318298', '321745', '325228', '328748', '332304', '335897', '339529', '343199', '346906', '350653', '354440', '358266', '362131', '366038', '369985', '373973', '378003', '382076', '386191', '390349', '394550', '398796', '403086', '407421', '411801', '416226', '420698', '425217', '429783', '434396', '439057', '443768', '448527', '453336', '458195', '463104', '468065', '473078', '478143', '483260', '488432', '493657', '498935', '504269', '509658', '515104', '520606', '526165', '531783', '537458', '543193', '548987', '554842', '560757', '566733', '572771', '578873', '585038', '591266', '597559', '603918', '610342', '616833', '623392', '630018', '636713', '643476', '650312', '657217', '664193', '671242', '678363', '685559', '692829', '700175', '707596', '715094', '722669', '730323', '738056', '745869', '753762', '761737', '769795', '777935', '786160', '794469', '802864', '811347', '819917', '828575', '837321', '846159', '855088', '864108', '873222', '882430', '891732', '901130', '910625', '920218', '929910', '939701', '949594', '959588', '969684', '979885', '990191', '1000603', '1011121', '1021747', '1032484', '1043331', '1054288', '1065359', '1076543', '1087843', '1099258', '1110790', '1122441', '1134211', '1146102', '1158116', '1170252', '1182514', '1194901', '1207414', '1220056', '1232828', '1245731', '1258766', '1271935', '1285238', '1298677', '1312255', '1325972', '1339829', '1353828', '1367970', '1382257', '1396690', '1411271', '1426001', '1440881', '1455914', '1471101', '1486443', '1501942', '1517599', '1533416', '1549396', '1565537', '1581845', '1598318', '1614960', '1631772', '1648756', '1665912', '1683245', '1700753', '1718441', '1736309', '1754359', '1772594', '1791015', '1809623', '1828421', '1847411', '1866594', '1885973', '1905549', '1925325', '1945302', '1965483', '1985870', '2006463', '2027266', '2048282', '2069512', '2090957', '2112621', '2134504', '2156611', '2178943', '2201502', '2224290', '2247310', '2270564', '2294055', '2317784', '2341755', '2365968', '2390429', '2415137', '2440097', '2465310', '2490779', '2516507', '2542496', '2568749', '2595269', '2622057', '2649118', '2676453', '2704065', '2731958', '2760133', '2788594', '2817344', '2846385', '2875721', '2905355', '2935289', '2965525', '2996069', '3026922', '3058087', '3089568', '3121368', '3153490', '3185938', '3218713', '3251821', '3285264', '3319046', '3353169', '3387637', '3422455', '3457624', '3493149', '3529034', '3565282', '3601896', '3638880', '3676238', '3713975', '3752092', '3790594', '3829486', '3868771', '3908453', '3948535', '3989022', '4029919', '4071228', '4112955', '4155102', '4197675', '4240678', '4284115', '4327990', '4372309', '4417073', '4462290', '4507964', '4554098', '4600697', '4647766', '4695309', '4743332', '4791840', '4840835', '4890326', '4940314', '4990806', '5041808', '5093323', '5145358', '5197915', '5251002', '5304625', '5358787', '5413495', '5468753', '5524567', '5580944', '5637888', '5695405', '5753500', '5812181', '5871451', '5931318', '5991788', '6052865', '6114556', '6176868', '6239807', '6303378', '6367588', '6432443', '6497951', '6564117', '6630947', '6698450', '6766631', '6835495', '6905053', '6975309', '7046270', '7117944', '7190338', '7263458', '7337313', '7411909', '7487254', '7563355', '7640220', '7717856', '7796271', '7875473', '7955469', '8036268', '8117877', '8200305', '8283559', '8367648', '8452580', '8538364', '8625008', '8712520', '8800909', '8890184', '8980354', '9071427', '9163413', '9256320', '9350158', '9444936', '9540663', '9637349', '9735003', '9833635', '9933255', '10033871', '10135495', '10238136', '10341805', '10446511', '10552265', '10659077', '10766957', '10875918', '10985968', '11097119', '11209381', '11322767', '11437286', '11552951', '11669771', '11787761', '11906928', '12027288', '12148851', '12271628', '12395633', '12520878', '12647373', '12775132', '12904167', '13034492', '13166118', '13299060', '13433328', '13568938', '13705902', '13844233', '13983946', '14125053', '14267569', '14411507', '14556882', '14703709', '14852000', '15001771', '15153037', '15305811', '15460110', '15615947', '15773340', '15932302', '16092850', '16254999', '16418764', '16584163', '16751210', '16919924', '17090318', '17262412', '17436221', '17611762', '17789051', '17968109', '18148950', '18331593', '18516056', '18702356', '18890513', '19080543', '19272466', '19466300', '19662065', '19859780', '20059463', '20261134', '20464812', '20670519', '20878273', '21088095', '21300004', '21514024', '21730173', '21948473', '22168944', '22391610', '22616491', '22843608', '23072986', '23304644', '23538607', '23774896', '24013535', '24254548', '24497956', '24743785', '24992057', '25242799', '25496032', '25751782', '26010075', '26270934', '26534386', '26800456', '27069169', '27340552', '27614632', '27891435', '28170987', '28453316', '28738450', '29026415', '29317240', '29610954', '29907584', '30207159', '30509708', '30815262', '31123849', '31435499', '31750242']

    total_exp_skills = ['325', '325', '658', '1001', '1354', '1716', '2089', '2471', '2864', '3268', '3682', '4107', '4542', '4989', '5447', '5917', '6398', '6891', '7396', '7913', '8443', '8985', '9540', '10108', '10689', '11283', '11890', '12511', '13146', '13796', '14460', '15139', '15832', '16540', '17263', '18001', '18756', '19526', '20312', '21115', '21934', '22770', '23623', '24493', '25381', '26287', '27211', '28153', '29114', '30094', '31093', '32111', '33148', '34206', '35284', '36382', '37501', '38641', '39803', '40987', '42192', '43420', '44670', '45943', '47239', '48559', '49902', '51270', '52662', '54079', '55522', '56990', '58484', '60004', '61551', '63125', '64726', '66355', '68012', '69698', '71413', '73157', '74930', '76733', '78567', '80432', '82328', '84255', '86214', '88206', '90231', '92289', '94381', '96507', '98668', '100865', '103097', '105365', '107669', '110011', '112390', '114807', '117263', '119758', '122292', '124867', '127482', '130139', '132837', '135577', '138361', '141188', '144058', '146972', '149932', '152938', '155989', '159087', '162232', '165425', '168667', '171958', '175299', '178691', '182133', '185627', '189174', '192774', '196428', '200136', '203900', '207720', '211595', '215528', '219519', '223569', '227678', '231847', '236077', '240369', '244723', '249141', '253622', '258169', '262781', '267460', '272206', '277020', '281903', '286856', '291880', '296975', '302142', '307383', '312699', '318090', '323557', '329101', '334722', '340422', '346202', '352064', '358008', '364034', '370144', '376339', '382620', '388988', '395444', '401989', '408624', '415351', '422170', '429083', '436091', '443195', '450396', '457695', '465093', '472592', '480192', '487896', '495704', '503618', '511639', '519767', '528005', '536354', '544814', '553388', '562076', '570881', '579803', '588844', '598006', '607290', '616697', '626228', '635885', '645670', '655584', '665629', '675806', '686117', '696564', '707147', '717869', '728731', '739736', '750884', '762177', '773618', '785207', '796947', '808839', '820885', '833087', '845446', '857965', '870646', '883490', '896500', '909676', '923021', '936538', '950228', '964093', '978135', '992357', '1006760', '1021346', '1036118', '1051078', '1066227', '1081568', '1097104', '1112837', '1128768', '1144900', '1161236', '1177778', '1194529', '1211490', '1228664', '1246054', '1263662', '1281490', '1299541', '1317819', '1336324', '1355060', '1374030', '1393236', '1412681', '1432368', '1452299', '1472477', '1492906', '1513588', '1534525', '1555721', '1577179', '1598902', '1620893', '1643155', '1665690', '1688502', '1711595', '1734971', '1758634', '1782586', '1806832', '1831374', '1856216', '1881361', '1906813', '1932576', '1958652', '1985046', '2011760', '2038799', '2066166', '2093865', '2121900', '2150275', '2178992', '2208056', '2237472', '2267243', '2297372', '2327865', '2358724', '2389955', '2421562', '2453548', '2485918', '2518676', '2551827', '2585375', '2619324', '2653679', '2688445', '2723626', '2759227', '2795252', '2831706', '2868594', '2905922', '2943693', '2981913', '3020587', '3059720', '3099316', '3139382', '3179922', '3220941', '3262445', '3304440', '3346930', '3389921', '3433419', '3477430', '3521959', '3567012', '3612594', '3658712', '3705371', '3752578', '3800339', '3848659', '3897545', '3947003', '3997040', '4047662', '4098875', '4150686', '4203101', '4256127', '4309771', '4364040', '4418940', '4474479', '4530663', '4587499', '4644995', '4703159', '4761997', '4821516', '4881725', '4942631', '5004242', '5066565', '5129607', '5193377', '5257883', '5323133', '5389135', '5455898', '5523430', '5591738', '5660832', '5730720', '5801411', '5872914', '5945237', '6018390', '6092381', '6167219', '6242914', '6319475', '6396912', '6475235', '6554452', '6634574', '6715609', '6797569', '6880463', '6964302', '7049096', '7134855', '7221589', '7309309', '7398026', '7487751', '7578495', '7670268', '7763082', '7856949', '7951879', '8047883', '8144974', '8243164', '8342464', '8442886', '8544442', '8647145', '8751007', '8856041', '8962259', '9069673', '9178298', '9288145', '9399229', '9511561', '9625156', '9740028', '9856190', '9973655', '10092439', '10212555', '10334018', '10456842', '10581041', '10706631', '10833626', '10962042', '11091893', '11223195', '11355964', '11490215', '11625964', '11763227', '11902021', '12042362', '12184266', '12327751', '12472833', '12619529', '12767856', '12917832', '13069474', '13222801', '13377831', '13534581', '13693070', '13853316', '14015338', '14179156', '14344788', '14512253', '14681571', '14852762', '15025846', '15200843', '15377773', '15556656', '15737514', '15920369', '16105240', '16292149', '16481118', '16672169', '16865325', '17060607', '17258038', '17457640', '17659437', '17863452', '18069708', '18278230', '18489041', '18702166', '18917628', '19135453', '19355667', '19578294', '19803359', '20030889', '20260909', '20493446', '20728527', '20966178', '21206426', '21449300', '21694826', '21943033', '22193949', '22447603', '22704024', '22963240', '23225282', '23490178', '23757959', '24028656', '24302299', '24578919', '24858548', '25141217', '25426958', '25715804', '26007787', '26302941', '26601298', '26902892', '27207758', '27515929', '27827440', '28142327', '28460625', '28782370', '29107598', '29436346', '29768650', '30104547', '30444076', '30787275', '31134181', '31484834', '31839274', '32197540', '32559671', '32925709', '33295694', '33669667', '34047670', '34429746', '34815937', '35206286', '35600836', '35999632', '36402718', '36810139', '37221940', '37638166', '38058864', '38484081', '38913864', '39348260', '39787317', '40231085', '40679612', '41132948', '41591143', '42054247', '42522312', '42995390', '43473533', '43956793', '44445225', '44938882', '45437817', '45942086', '46451744', '46966848', '47487454', '48013619', '48545402', '49082860', '49626053', '50175040', '50729882', '51290639', '51857372', '52430143', '53009016', '53594054', '54185320', '54782879', '55386797', '55997139', '56613972', '57237364', '57867382', '58504095', '59147571', '59797883', '60455100', '61119293', '61790535', '62468898', '63154457', '63847286', '64547461', '65255057', '65970151', '66692820', '67423143', '68161199', '68907068', '69660830', '70422567', '71192362', '71970297', '72756457', '73550926', '74353790', '75165137', '75985054', '76813629', '77650950', '78497109', '79352197', '80216305', '81089527', '81971957', '82863689', '83764819', '84675444', '85595662', '86525572', '87465273', '88414867', '89374455', '90344139', '91324024', '92314215', '93314818', '94325939', '95347686', '96380170', '97423501', '98477789', '99543148', '100619691', '101707534', '102806792', '103917582', '105040023', '106174234', '107320336', '108478452', '109648704', '110831218', '112026119', '113233533', '114453589', '115686417', '116932148', '118190914', '119462849', '120748087', '122046764', '123359019', '124684991', '126024820', '127378648', '128746618', '130128875', '131525565', '132936836', '134362837', '135803718', '137259632', '138730733', '140217176', '141719118', '143236717', '144770133', '146319529', '147885066', '149466911', '151065229', '152680189', '154311961', '155960717', '157626629', '159309874', '161010627', '162729068', '164465377', '166219736', '167992330', '169783345', '171592968', '173421389', '175268800', '177135394', '179021367', '180926916', '182852241', '184797543', '186763026', '188748896', '190755359', '192782625', '194830907', '196900419', '198991376', '201103997', '203238501', '205395112', '207574055', '209775557', '211999847', '214247157', '216517721', '218811776', '221129560', '223471315', '225837283', '228227712', '230642849', '233082946', '235548256', '238039035', '240555542', '243098038', '245666787', '248262056', '250884113', '253533231', '256209684', '258913749', '261645707', '264405840', '267194434', '270011778', '272858163', '275733884', '278639239', '281574528', '284540053', '287536122', '290563044', '293621131', '296710699', '299832067', '302985557', '306171495', '309390208', '312642029', '315927293', '319246339', '322599508', '325987145', '329409600', '332867224', '336360373', '339889407', '343454689', '347056585', '350695465', '354371703', '358085678', '361837770', '365628364', '369457850', '373326621', '377235074', '381183609', '385172631', '389202550', '393273778', '397386733', '401541835', '405739510', '409980188', '414264303', '418592293', '422964602', '427381675', '431843965', '436351929', '440906027', '445506724', '450154490', '454849799', '459593131', '464384971', '469225806', '474116132', '479056446', '484047252', '489089060', '494182383', '499327741', '504525656', '509776658', '515081283', '520440070', '525853565', '531322318', '536846885', '542427829', '548065717', '553761122', '559514622', '565326803', '571198254', '577129572', '583121360', '589174225', '595288781', '601465649', '607705456', '614008834', '620376422', '626808865', '633306816', '639870933', '646501880', '653200330', '659966961', '666802456', '673707509', '680682818', '687729088', '694847032', '702037370', '709300828', '716638141', '724050050', '731537304', '739100659', '746740879', '754458735', '762255006', '770130479', '778085948', '786122216', '794240093', '802440398', '810723957', '819091605', '827544185', '836082549', '844707557', '853420077', '862220986', '871111170', '880091524', '889162951', '898326364', '907582684', '916932842', '926377778', '935918441', '945555790', '955290793', '965124428', '975057683', '985091554', '995227049', '1005465185', '1015806990', '1026253501', '1036805766', '1047464843', '1058231800', '1069107718', '1080093686', '1091190805', '1102400186', '1113722953', '1125160239', '1136713190', '1148382961', '1160170722', '1172077650', '1184104938', '1196253789', '1208525417', '1220921050', '1233441928', '1246089301', '1258864433', '1271768600', '1284803092', '1297969210', '1311268270', '1324701598', '1338270536', '1351976438', '1365820671', '1379804617', '1393929670', '1408197239', '1422608746', '1437165628', '1451869337', '1466721337', '1481723108', '1496876145', '1512181956', '1527642066', '1543258013', '1559031353', '1574963655', '1591056505', '1607311504', '1623730268', '1640314431', '1657065641', '1673985565', '1691075883', '1708338295', '1725774516', '1743386278', '1761175329', '1779143438', '1797292388', '1815623981', '1834140037', '1852842393', '1871732906', '1890813449', '1910085915', '1929552215', '1949214280', '1969074060', '1989133523', '2009394657', '2029859469', '2050529988', '2071408261', '2092496356', '2113796360', '2135310384', '2157040557', '2178989030', '2201157974', '2223549584', '2246166075', '2269009683', '2292082669', '2315387313', '2338925920', '2362700816', '2386714351', '2410968899', '2435466855', '2460210640', '2485202697', '2510445496', '2535941528', '2561693310', '2587703385', '2613974319', '2640508705', '2667309161', '2694378330', '2721718882', '2749333514', '2777224949', '2805395936', '2833849252', '2862587702', '2891614117', '2920931357', '2950542311', '2980449895', '3010657054', '3041166762', '3071982024', '3103105873', '3134541372']
    
    skill -= 55
    skill_final -= 55
    exp_necessario_skill = int(total_exp_skills[skill_final]) - int(total_exp_skills[skill])
    horas = int(exp_necessario_skill) / tickrate
    minutos = (horas - int(horas)) * 60
    mana_necessaria = (exp_necessario_skill / 4) * 50

    azul = (100, 149, 237)
    vermelho = (255, 0, 0)
    verde = (0, 255, 0)
    amarelo_ouro = (255, 215, 0)
    branco = (255, 255, 255)
    azul_mana = (68, 187, 255)
    laranja_mythic = (240, 160, 0)

    imagem = Image.open(r"backgrounds/ptrain_calculator_background.png")
    fonte_arial = r"fonts/arialbd.ttf"
    fonte_fc_bold = r"fonts/FiraCode-Bold.ttf"
    helvetica = r"fonts/Helvetica.ttf"
    helvetica_bold = r"fonts/Helvetica-Bold.ttf"
    teko_medium = r"fonts/Teko-Medium.ttf"
    teko_bold = r"fonts/Teko-Bold.ttf"
    teko_regular =r"fonts/Teko-Regular.ttf"
    teko_light =r"fonts/Teko-Light.ttf"

    desenhando = ImageDraw.Draw(imagem)

    desenhando.text((20, 20), f"Power Training", font=ImageFont.truetype(teko_medium, 100), fill=(61, 204, 212))
    desenhando.text((20, 100), f"Calculator", font=ImageFont.truetype(teko_medium, 100),fill=laranja_mythic)

    texto1 = "From stat "
    texto2 = f"{levels_skill[skill]} "
    texto3 = "to "
    texto4 = f"{levels_skill[skill_final]}"

    x_inicial_t = 970
    y_inicial_t = 40

    for texto, color in[(texto1, branco,), (texto2, amarelo_ouro), (texto3, branco), (texto4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 80), fill=color)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 80))
        x_inicial_t += largura
    # desenhando.text((75, 75), f"Initial stat: {levels[skill]}", font=ImageFont.truetype(teko_medium, 40))
    # desenhando.text((75, 125), f"Final stat:   {levels[skill_final]}", font=ImageFont.truetype(teko_medium, 40))

    t1 = "- You will need "
    t2 = f"{exp_necessario_skill:,} "
    t3 = "stat experience to reach stat "
    t4 = f"{levels_skill[skill_final]} "

    x_inicial_t = 575
    y_inicial_t = 150

    for texto, cor in [(t1, branco), (t2, verde), (t3, branco), (t4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    t1 = "- You will need a total of "
    t2 = f"{int(horas):,} " if minutos == 0 else f"{int(horas):,} hours and {int(minutos):,} minutes "
    t3 = "to reach stat "
    t4 = f"{levels_skill[skill_final]}"

    x_inicial_t = 575
    y_inicial_t = 200
    for t, c in [(t1, branco), (t2, amarelo_ouro), (t3, branco), (t4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), t, font=ImageFont.truetype(teko_medium, 50), fill=c)
        largura = desenhando.textlength(t, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita


    x_inicial_t = 700
    y_inicial_t = 485
    
    t1 = "Estimated number of "
    t2 = "mana potions "
    t3 = "and "
    t4 = "gold "
    t5 = "required"

    for t, c in [(t1, branco), (t2, azul_mana), (t3, branco), (t4, amarelo_ouro), (t5, branco)]:
        desenhando.text((x_inicial_t, y_inicial_t), t, font=ImageFont.truetype(teko_medium, 60), fill=c)
        largura = desenhando.textlength(t, font=ImageFont.truetype(teko_medium, 60))
        x_inicial_t += largura  # move o cursor para a direita

    # desenhando.text((75, 325), "Estimated number of mana potions and gold required: ", font=ImageFont.truetype(fonte_fc_bold, 40))

    name_pots = ["Ultimate Mana Potions", "Super Mana Potions", "Greater Mana Potions", "Mana Potions"]
    pot_healing = [750, 500, 250, 100]
    pot_value = [650, 350, 150, 50]

    # y_inicial_a = 375
    y = 575
    for a in range(4):
        desenhando.text((680, y), f"{int(mana_necessaria/pot_healing[a]):,} {name_pots[a]}", font=ImageFont.truetype(teko_medium, 50), fill=azul_mana)
        desenhando.text((1375, y), f"{int(mana_necessaria/pot_healing[a]) * pot_value[a]:,} gold" , font=ImageFont.truetype(teko_medium, 50), fill=amarelo_ouro)
        y+= 120

    t1 = f"{int(mana_necessaria/pot_healing[a]):,} "
    t2 = f"{name_pots[a]}"
    t3 = ", "
    t4 = f"{int(mana_necessaria/pot_healing[a]) * pot_value[a]:,} "
    t5 = f"Gold. "

#     imagem.show()
    buffer = BytesIO()
    imagem.save(buffer, format="PNG")
    buffer.seek(0)
    return buffer
# stat_calculation(55, 999, 14400)

def level_calculation(level, final_level):
    from io import BytesIO
    from PIL import Image, ImageDraw, ImageFont
    levels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 710, 711, 712, 713, 714, 715, 716, 717, 718, 719, 720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734, 735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 763, 764, 765, 766, 767, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 788, 789, 790, 791, 792, 793, 794, 795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805, 806, 807, 808, 809, 810, 811, 812, 813, 814, 815, 816, 817, 818, 819, 820, 821, 822, 823, 824, 825, 826, 827, 828, 829, 830, 831, 832, 833, 834, 835, 836, 837, 838, 839, 840, 841, 842, 843, 844, 845, 846, 847, 848, 849, 850, 851, 852, 853, 854, 855, 856, 857, 858, 859, 860, 861, 862, 863, 864, 865, 866, 867, 868, 869, 870, 871, 872, 873, 874, 875, 876, 877, 878, 879, 880, 881, 882, 883, 884, 885, 886, 887, 888, 889, 890, 891, 892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 902, 903, 904, 905, 906, 907, 908, 909, 910, 911, 912, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 930, 931, 932, 933, 934, 935, 936, 937, 938, 939, 940, 941, 942, 943, 944, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 970, 971, 972, 973, 974, 975, 976, 977, 978, 979, 980, 981, 982, 983, 984, 985, 986, 987, 988, 989, 990, 991, 992, 993, 994, 995, 996, 997, 998, 999]
    exp_levels = [1, 9, 28, 65, 127, 219, 348, 521, 744, 1024, 1367, 1781, 2272, 2848, 3515, 4282, 5156, 6144, 7254, 8494, 9873, 11398, 13077, 14920, 16935, 19130, 21515, 24099, 26891, 29901, 33138, 36612, 40333, 44311, 48557, 53081, 57894, 63007, 68430, 74176, 80256, 86682, 93465, 100617, 108152, 116081, 124418, 133176, 142367, 152006, 162106, 172681, 183745, 195313, 207400, 220021, 233190, 246924, 261238, 276149, 291672, 307825, 324624, 342087, 360230, 379072, 398632, 418927, 439975, 461797, 484412, 507839, 532098, 557210, 583195, 610075, 637870, 666603, 696296, 726972, 758652, 791361, 825122, 859959, 895896, 932959, 971172, 1010561, 1051153, 1092973, 1136049, 1180408, 1226078, 1273086, 1321462, 1371235, 1422434, 1475090, 1529233, 1584894, 1642104, 1700896, 1761303, 1823357, 1887091, 1952541, 2019740, 2088724, 2159529, 2232191, 2306747, 2383233, 2461690, 2542154, 2624665, 2709263, 2795989, 2884883, 2975987, 3069344, 3164996, 3262988, 3363363, 3466166, 3571444, 3679242, 3789608, 3902589, 4018234, 4136593, 4257714, 4381649, 4508450, 4638168, 4770857, 4906571, 5045364, 5187291, 5332410, 5480776, 5632449, 5787487, 5945949, 6107897, 6273392, 6442495, 6615272, 6791785, 6972100, 7156283, 7344401, 7536523, 7732717, 7933053, 8137604, 8346440, 8559635, 8777263, 8999400, 9226121, 9457506, 9693631, 9934578, 10180426, 10431258, 10687158, 10948209, 11214498, 11486110, 11763135, 12045662, 12333782, 12627585, 12927166, 13232619, 13544041, 13861527, 14185178, 14515092, 14851372, 15194120, 15543441, 15899440, 16262225, 16631904, 17008588, 17392388, 17783418, 18181793, 18587629, 19001045, 19422160, 19851096, 20287977, 20732926, 21186071, 21647539, 22117462, 22595971, 23083199, 23579283, 24084359, 24598568, 25122049, 25654948, 26197408, 26749576, 27311603, 27883638, 28465836, 29058351, 29661342, 30274967, 30899388, 31534769, 32181277, 32839079, 33508347, 34189253, 34881973, 35586684, 36303566, 37032803, 37774578, 38529079, 39296496, 40077022, 40870852, 41678183, 42499216, 43334153, 44183201, 45046567, 45924463, 46817103, 47724704, 48647486, 49585671, 50539484, 51509155, 52494915, 53496999, 54515644, 55551092, 56603586, 57673374, 58760707, 59865838, 60989024, 62130526, 63290609, 64469539, 65667587, 66885029, 68122141, 69379207, 70656511, 71954342, 73272993, 74612762, 75973948, 77356857, 78761796, 80189078, 81639020, 83111942, 84608168, 86128029, 87671857, 89239990, 90832769, 92450541, 94093657, 95762471, 97457345, 99178641, 100926731, 102701986, 104504787, 106335516, 108194563, 110082320, 111999187, 113945566, 115921867, 117928503, 119965894, 122034465, 124134645, 126266870, 128431581, 130629225, 132860253, 135125125, 137424303, 139758259, 142127467, 144532409, 146973573, 149451453, 151966550, 154519369, 157110425, 159740236, 162409328, 165118235, 167867495, 170657654, 173489266, 176362890, 179279094, 182238452, 185241544, 188288959, 191381294, 194519152, 197703143, 200933887, 204212009, 207538144, 210912934, 214337029, 217811087, 221335775, 224911766, 228539745, 232220403, 235954439, 239742564, 243585493, 247483955, 251438684, 255450426, 259519933, 263647970, 267835309, 272082732, 276391031, 280761008, 285193474, 289689251, 294249170, 298874074, 303564815, 308322255, 313147268, 318040738, 323003560, 328036641, 333140896, 338317255, 343566657, 348890053, 354288407, 359762693, 365313897, 370943019, 376651069, 382439070, 388308058, 394259082, 400293202, 406411493, 412615041, 418904947, 425282325, 431748303, 438304020, 444950632, 451689308, 458521231, 465447598, 472469622, 479588528, 486805559, 494121971, 501539035, 509058039, 516680286, 524407093, 532239795, 540179743, 548228303, 556386858, 564656809, 573039572, 581536581, 590149287, 598879158, 607727681, 616696359, 625786716, 635000290, 644338642, 653803348, 663396005, 673118229, 682971654, 692957936, 703078748, 713335786, 723730762, 734265414, 744941497, 755760787, 766725082, 777836203, 789095989, 800506306, 812069037, 823786090, 835659397, 847690911, 859882608, 872236488, 884754576, 897438920, 910291592, 923314689, 936510333, 949880670, 963427874, 977154143, 991061701, 1005152797, 1019429711, 1033894745, 1048550231, 1063398529, 1078442024, 1093683132, 1109124297, 1124767991, 1140616714, 1156672999, 1172939407, 1189418527, 1206112982, 1223025424, 1240158537, 1257515036, 1275097667, 1292909211, 1310952479, 1329230317, 1347745602, 1366501247, 1385500199, 1404745438, 1424239980, 1443986876, 1463989214, 1484250117, 1504772743, 1525560290, 1546615992, 1567943120, 1589544985, 1611424934, 1633586357, 1656032680, 1678767371, 1701793937, 1725115927, 1748736931, 1772660581, 1796890551, 1821430559, 1846284363, 1871455769, 1896948624, 1922766821, 1948914299, 1975395041, 2002213077, 2029372485, 2056877389, 2084731961, 2112940421, 2141507039, 2170436133, 2199732074, 2229399280, 2259442222, 2289865422, 2320673456, 2351870950, 2383462587, 2415453101, 2447847283, 2480649977, 2513866085, 2547500566, 2581558433, 2616044760, 2650964678, 2686323377, 2722126109, 2758378183, 2795084972, 2832251910, 2869884492, 2907988279, 2946568894, 2985632024, 3025183424, 3065228913, 3105774378, 3146825772, 3188389118, 3230470507, 3273076101, 3316212131, 3359884902, 3404100788, 3448866239, 3494187777, 3540071998, 3586525577, 3633555262, 3681167879, 3729370332, 3778169606, 3827572762, 3877586945, 3928219380, 3979477375, 4031368321, 4083899694, 4137079054, 4190914049, 4245412412, 4300581967, 4356430625, 4412966387, 4470197346, 4528131688, 4586777689, 4646143723, 4706238256, 4767069853, 4828647174, 4890978979, 4954074127, 5017941577, 5082590391, 5148029733, 5214268871, 5281317178, 5349184133, 5417879325, 5487412448, 5557793309, 5629031823, 5701138020, 5774122042, 5847994147, 5922764708, 5998444215, 6075043278, 6152572627, 6231043112, 6310465706, 6390851506, 6472211734, 6554557741, 6637901003, 6722253127, 6807625851, 6894031045, 6981480713, 7069986994, 7159562165, 7250218639, 7341968972, 7434825858, 7528802137, 7623910791, 7720164950, 7817577890, 7916163037, 8015933969, 8116904415, 8219088259, 8322499542, 8427152461, 8533061372, 8640240795, 8748705410, 8858470063, 8969549767, 9081959703, 9195715221, 9310831845, 9427325271, 9545211373, 9664506202, 9785225987, 9907387141, 10031006259, 10156100124, 10282685703, 10410780158, 10540400837, 10671565286, 10804291247, 10938596657, 11074499657, 11212018589, 11351172000, 11491978643, 11634457482, 11778627691, 11924508660, 12072119993, 12221481514, 12372613267, 12525535520, 12680268767, 12836833730, 12995251361, 13155542846, 13317729607, 13481833305, 13647875840, 13815879357, 13985866248, 14157859152, 14331880962, 14507954823, 14686104138, 14866352571, 15048724048, 15233242760, 15419933169, 15608820005, 15799928274, 15993283261, 16188910529, 16386835925, 16587085584, 16789685930, 16994663678, 17202045841, 17411859731, 17624132963, 17838893454, 18056169436, 18275989448, 18498382348, 18723377313, 18951003840, 19181291756, 19414271216, 19649972706, 19888427053, 20129665423, 20373719324, 20620620614, 20870401504, 21123094559, 21378732702, 21637349222, 21898977774, 22163652384, 22431407454, 22702277763, 22976298477, 23253505147, 23533933716, 23817620524, 24104602310, 24394916218, 24688599801, 24985691026, 25286228276, 25590250358, 25897796507, 26208906385, 26523620095, 26841978178, 27164021623, 27489791866, 27819330801, 28152680781, 28489884626, 28830985624, 29176027538, 29525054614, 29878111581, 30235243661, 30596496569, 30961916525, 31331550254, 31705444992, 32083648495, 32466209042, 32853175440, 33244597031, 33640523699, 34041005872, 34446094532, 34855841218, 35270298034, 35689517652, 36113553324, 36542458881, 36976288745, 37415097932, 37858942059, 38307877354, 38761960655, 39221249424, 39685801750, 40155676358, 40630932611, 41111630523, 41597830763, 42089594660, 42586984216, 43090062105, 43598891688, 44113537016, 44634062839, 45160534613, 45693018506, 46231581409, 46776290941, 47327215460, 47884424064, 48447986608, 49017973705, 49594456740, 50177507871, 50767200044, 51363606998, 51966803276, 52576864229, 53193866029, 53817885677, 54449001010, 55087290713, 55732834325, 56385712248, 57046005760, 57713797022, 58389169085, 59072205903, 59762992344, 60461614195, 61168158173, 61882711939, 62605364104, 63336204240, 64075322890, 64822811582, 65578762832, 66343270164, 67116428112, 67898332236, 68689079131, 69488766440, 70297492863, 71115358169, 71942463207, 72778909918, 73624801348, 74480241658, 75345336134, 76220191205, 77104914449, 77999614608, 78904401601, 79819386535, 80744681719, 81680400675, 82626658154, 83583570145, 84551253891, 85529827903, 86519411970, 87520127178, 88532095917, 89555441900, 90590290177, 91636767145, 92695000568, 93765119587, 94847254736, 95941537958, 97048102618, 98167083522, 99298616926, 100442840558, 101599893628, 102769916847, 103953052445, 105149444181, 106359237364, 107582578869, 108819617151, 110070502265, 111335385881, 112614421302, 113907763482, 115215569039, 116537996281, 117875205215, 119227357572, 120594616822, 121977148193, 123375118687, 124788697105, 126218054060, 127663362001, 129124795229, 130602529916, 132096744129, 133607617847, 135135332983, 136680073401, 138242024941, 139821375439, 141418314744, 143033034746, 144665729391, 146316594709, 147985828832, 149673632015, 151380206665, 153105757355, 154850490854, 156614616148, 158398344463, 160201889286, 162025466395, 163869293880, 165733592166, 167618584038, 169524494671, 171451551647, 173399984989, 175370027178, 177361913188, 179375880506, 181412169159, 183471021746, 185552683458, 187657402111, 189785428170, 191937014781, 194112417795, 196311895799, 198535710144, 200784124976, 203057407262, 205355826824, 207679656366, 210029171504, 212404650800, 214806375792, 217234631022, 219689704071, 222171885593, 224681469341, 227218752206, 229784034246, 232377618723, 234999812132, 237650924241, 240331268118, 243041160175, 245780920194, 248550871369, 251351340341, 254182657230, 257045155676, 259939172877, 262865049621, 265823130329, 268813763091, 271837299704, 274894095714, 277984510452, 281108907075, 284267652608, 287461117983, 290689678079, 293953711766, 297253601946, 300589735595, 303962503806, 307372301834, 310819529137, 314304589421, 317827890685, 321389845269, 324990869893, 328631385709, 332311818346, 336032597957, 339794159263, 343596941606, 347441388998, 351327950164, 355257078598, 359229232608, 363244875370, 367304474979, 371408504498, 375557442013, 379751770683, 383991978798, 388278559826, 392612012474, 396992840738, 401421553961, 405898666889, 410424699728, 415000178198, 419625633597, 424301602854, 429028628589, 433807259176, 438638048800, 443521557518, 448458351323, 453449002205, 458494088211, 463594193515, 468749908475, 473961829702, 479230560127, 484556709061, 489940892269, 495383732032, 500885857220, 506447903356, 512070512691, 517754334269, 523500024002, 529308244743, 535179666353, 541114965780, 547114827129, 553179941742, 559311008269, 565508732745, 571773828671, 578107017087, 584509026655, 590980593737, 597522462475, 604135384875, 610820120884, 617577438481, 624408113751, 631312930981, 638292682734, 645348169946, 652480202008, 659689596853, 666977181049, 674343789891, 681790267483, 689317466842, 696926249981, 704617488009, 712392061225, 720250859212, 728194780935, 736224734841, 744341638954, 752546420980, 760840018402, 769223378588, 777697458891, 786263226753, 794921659813, 803673746010, 812520483692, 821462881726, 830501959606, 839638747564, 848874286683, 858209629009, 867645837666, 877183986973, 886825162558, 896570461476, 906420992332, 916377875398, 926442242735, 936615238317, 946898018153, 957291750417, 967797615569, 978416806487, 989150528598]
    exp_to_next = [8, 19, 37, 62, 92, 129, 173, 223, 280, 343, 414, 491, 576, 667, 767, 874, 988, 1110, 1240, 1379, 1525, 1679, 1843, 2015, 2195, 2385, 2584, 2792, 3010, 3237, 3474, 3721, 3978, 4246, 4524, 4813, 5113, 5423, 5746, 6080, 6426, 6783, 7152, 7535, 7929, 8337, 8758, 9191, 9639, 10100, 10575, 11064, 11568, 12087, 12621, 13169, 13734, 14314, 14911, 15523, 16153, 16799, 17463, 18143, 18842, 19560, 20295, 21048, 21822, 22615, 23427, 24259, 25112, 25985, 26880, 27795, 28733, 29693, 30676, 31680, 32709, 33761, 34837, 35937, 37063, 38213, 39389, 40592, 41820, 43076, 44359, 45670, 47008, 48376, 49773, 51199, 52656, 54143, 55661, 57210, 58792, 60407, 62054, 63734, 65450, 67199, 68984, 70805, 72662, 74556, 76486, 78457, 80464, 82511, 84598, 86726, 88894, 91104, 93357, 95652, 97992, 100375, 102803, 105278, 107798, 110366, 112981, 115645, 118359, 121121, 123935, 126801, 129718, 132689, 135714, 138793, 141927, 145119, 148366, 151673, 155038, 158462, 161948, 165495, 169103, 172777, 176513, 180315, 184183, 188118, 192122, 196194, 200336, 204551, 208836, 213195, 217628, 222137, 226721, 231385, 236125, 240947, 245848, 250832, 255900, 261051, 266289, 271612, 277025, 282527, 288120, 293803, 299581, 305453, 311422, 317486, 323651, 329914, 336280, 342748, 349321, 355999, 362785, 369679, 376684, 383800, 391030, 398375, 405836, 413416, 421115, 428936, 436881, 444949, 453145, 461468, 469923, 478509, 487228, 496084, 505076, 514209, 523481, 532899, 542460, 552168, 562027, 572035, 582198, 592515, 602991, 613625, 624421, 635381, 646508, 657802, 669268, 680906, 692720, 704711, 716882, 729237, 741775, 754501, 767417, 780526, 793830, 807331, 821033, 834937, 849048, 863366, 877896, 892640, 907601, 922782, 938185, 953813, 969671, 985760, 1002084, 1018645, 1035448, 1052494, 1069788, 1087333, 1105131, 1123186, 1141502, 1160083, 1178930, 1198048, 1217442, 1237112, 1257066, 1277304, 1297831, 1318651, 1339769, 1361186, 1382909, 1404939, 1427282, 1449942, 1472922, 1496226, 1519861, 1543828, 1568133, 1592779, 1617772, 1643116, 1668814, 1694874, 1721296, 1748090, 1775255, 1802801, 1830729, 1859047, 1887757, 1916867, 1946379, 1976301, 2006636, 2037391, 2068571, 2100180, 2132225, 2164711, 2197644, 2231028, 2264872, 2299178, 2333956, 2369208, 2404942, 2441164, 2477880, 2515097, 2552819, 2591056, 2629811, 2669092, 2708907, 2749260, 2790159, 2831612, 2873624, 2916204, 2959358, 3003092, 3047415, 3092335, 3137858, 3183991, 3230744, 3278122, 3326135, 3374790, 3424095, 3474058, 3524688, 3575991, 3627979, 3680658, 3734036, 3788125, 3842929, 3898462, 3954729, 4011742, 4069507, 4128037, 4187339, 4247423, 4308299, 4369977, 4432466, 4495777, 4559919, 4624904, 4690741, 4757440, 4825013, 4893470, 4962822, 5033081, 5104255, 5176359, 5249402, 5323396, 5398354, 5474286, 5551204, 5629122, 5708050, 5788001, 5868988, 5951024, 6034120, 6118291, 6203548, 6289906, 6377378, 6465978, 6555717, 6646612, 6738676, 6831923, 6926367, 7022024, 7118906, 7217031, 7316412, 7417064, 7519004, 7622247, 7726807, 7832702, 7939948, 8048560, 8158555, 8269951, 8382763, 8497009, 8612706, 8729871, 8848523, 8968678, 9090357, 9213574, 9338352, 9464706, 9592657, 9722224, 9853425, 9986282, 10120812, 10257038, 10394976, 10534652, 10676083, 10819290, 10964295, 11111121, 11259786, 11410317, 11562731, 11717053, 11873307, 12031514, 12191697, 12353880, 12518088, 12684344, 12852672, 13023097, 13195644, 13370337, 13547204, 13726269, 13907558, 14091096, 14276914, 14465034, 14655486, 14848298, 15043495, 15241108, 15441165, 15643694, 15848723, 16056285, 16266408, 16479120, 16694455, 16912442, 17133113, 17356499, 17582631, 17811544, 18043268, 18277838, 18515285, 18755645, 18998952, 19245239, 19494542, 19746896, 20002338, 20260903, 20522626, 20787547, 21055702, 21327128, 21601865, 21879949, 22161423, 22446323, 22734691, 23026566, 23321990, 23621004, 23923650, 24229970, 24540008, 24853804, 25171406, 25492855, 25818197, 26147478, 26480742, 26818036, 27159408, 27504904, 27854572, 28208460, 28566618, 28929094, 29295941, 29667206, 30042942, 30423200, 30808034, 31197494, 31591637, 31990514, 32394182, 32802694, 33216108, 33634481, 34057867, 34486327, 34919918, 35358699, 35802732, 36252074, 36706789, 37166938, 37632582, 38103787, 38580615, 39063130, 39551400, 40045489, 40545465, 41051394, 41563346, 42081389, 42605594, 43136030, 43672771, 44215886, 44765451, 45321538, 45884221, 46453579, 47029685, 47612617, 48202453, 48799274, 49403156, 50014183, 50632435, 51257995, 51890946, 52531373, 53179360, 53834995, 54498363, 55169555, 55848658, 56535762, 57230959, 57934342, 58646001, 59366034, 60094533, 60831597, 61577321, 62331805, 63095148, 63867450, 64648814, 65439342, 66239138, 67048307, 67866955, 68695192, 69533123, 70380861, 71238514, 72106197, 72984022, 73872105, 74770561, 75679507, 76599063, 77529349, 78470485, 79422594, 80385800, 81360228, 82346007, 83343262, 84352124, 85372724, 86405194, 87449668, 88506281, 89575171, 90656474, 91750333, 92856886, 93976279, 95108654, 96254159, 97412940, 98585147, 99770932, 100970446, 102183844, 103411283, 104652919, 105908911, 107179423, 108464615, 109764653, 111079704, 112409936, 113755518, 115116624, 116493426, 117886102, 119294829, 120719785, 122161154, 123619118, 125093865, 126585579, 128094455, 129620679, 131164449, 132725961, 134305410, 135903000, 137518932, 139153411, 140806643, 142478839, 144170209, 145880969, 147611333, 149361521, 151131753, 152922253, 154733247, 156564963, 158417631, 160291485, 162186761, 164103698, 166042535, 168003517, 169986891, 171992904, 174021810, 176073861, 178149315, 180248433, 182371477, 184518712, 186690409, 188886836, 191108269, 193354987, 195627268, 197925396, 200249659, 202600346, 204977748, 207382163, 209813890, 212273232, 214760491, 217275982, 219820012, 222392900, 224994965, 227626527, 230287916, 232979460, 235701490, 238454347, 241238370, 244053901, 246901290, 249780890, 252693055, 255638143, 258616520, 261628552, 264674610, 267755070, 270870309, 274020714, 277206670, 280428569, 283686808, 286981786, 290313908, 293683583, 297091225, 300537250, 304022082, 307546149, 311109878, 314713710, 318358083, 322043445, 325770243, 329538935, 333349980, 337203845, 341100998, 345041914, 349027076, 353056967, 357132080, 361252908, 365419956, 369633729, 373894738, 378203503, 382560547, 386966398, 391421591, 395926668, 400482173, 405088660, 409746686, 414456816, 419219618, 424035672, 428905557, 433829864, 438809187, 443844127, 448935295, 454083301, 459288769, 464552326, 469874608, 475256253, 480697912, 486200240, 491763897, 497389556, 503077889, 508829583, 514645328, 520525823, 526471774, 532483893, 538562903, 544709532, 550924519, 557208604, 563562544, 569987097, 576483035, 583051131, 589692173, 596406954, 603196278, 610060953, 617001800, 624019648, 631115333, 638289703, 645543612, 652877923, 660293512, 667791262, 675372063, 683036818, 690786441, 698621851, 706543978, 714553766, 722652165, 730840136, 739118650, 747488692, 755951250, 764507332, 773157948, 781904124, 790746895, 799687309, 808726423, 817865306, 827105038, 836446711, 845891430, 855440310, 865094476, 874855071, 884723244, 894700159, 904786993, 914984934, 925295184, 935718956, 946257479, 956911991, 967683746, 978574012, 989584067, 1000715208, 1011968739, 1023345983, 1034848277, 1046476968, 1058233423, 1070119019, 1082135149, 1094283222, 1106564660, 1118980904, 1131533404, 1144223632, 1157053070, 1170023219, 1183135598, 1196391736, 1209793183, 1223341505, 1237038282, 1250885114, 1264883616, 1279035421, 1293342180, 1307805557, 1322427242, 1337208934, 1352152357, 1367259250, 1382531371, 1397970494, 1413578418, 1429356955, 1445307941, 1461433228, 1477734687, 1494214213, 1510873718, 1527715136, 1544740418, 1561951540, 1579350498, 1596939305, 1614720002, 1632694645, 1650865318, 1669234123, 1687803183, 1706574650, 1725550690, 1744733499, 1764125294, 1783728315, 1803544823, 1823577109, 1843827485, 1864298286, 1884991872, 1905910633, 1927056976, 1948433342, 1970042189, 1991886010, 2013967318, 2036288653, 2058852587, 2081661712, 2104718653, 2128026059, 2151586611, 2175403014, 2199478004, 2223814345, 2248414832, 2273282286, 2298419562, 2323829542, 2349515138, 2375479296, 2401724992, 2428255230, 2455073049, 2482181522, 2509583748, 2537282865, 2565282040, 2593584477, 2622193409, 2651112109, 2680343877, 2709892057, 2739760019, 2769951175, 2800468972, 2831316889, 2862498446, 2894017201, 2925876744, 2958080708, 2990632762, 3023536613, 3056796010, 3090414738, 3124396623, 3158745533, 3193465375, 3228560096, 3264033687, 3299890180, 3336133649, 3372768211, 3409798028, 3447227303, 3485060284, 3523301264, 3561954584, 3601024624, 3640515816, 3680432637, 3720779611, 3761561306, 3802782343, 3844447392, 3886561166, 3929128434, 3972154010, 4015642762, 4059599609, 4104029519, 4148937515, 4194328670, 4240208115, 4286581028, 4333452648, 4380828264, 4428713223, 4477112928, 4526032839, 4575478470, 4625455399, 4675969257, 4727025735, 4778630587, 4830789624, 4883508718, 4936793805, 4990650882, 5045086006, 5100105304, 5155714960, 5211921227, 5268730425, 5326148934, 5384183208, 5442839763, 5502125188, 5562046136, 5622609335, 5683821578, 5745689733, 5808220741, 5871421610, 5935299427, 5999861349, 6065114613, 6131066527, 6197724476, 6265095926, 6333188416, 6402009568, 6471567082, 6541868738, 6612922400, 6684736009, 6757317597, 6830675270, 6904817230, 6979751753, 7055487212, 7132032062, 7209394845, 7287584196, 7366608842, 7446477592, 7527199359, 7608783139, 7691238028, 7774573216, 7858797987, 7943921723, 8029953906, 8116904113, 8204782026, 8293597422, 8383360186, 8474080303, 8565767862, 8658433060, 8752086197, 8846737682, 8942398034, 9039077880, 9136787958, 9235539119, 9335342326, 9436208657, 9538149307, 9641175585, 9745298918, 9850530856, 9956883066, 10064367337, 10172995582, 10282779836, 10393732264, 10505865152, 10619190918, 10733722111, 10849471402]
    exp_lost = [-2, -5, -9, -13, -19, -25, -33, -41, -51, -61, -73, -86, -100, -115, -131, -148, -166, -185, -206, -228, -251, -276, -302, -329, -357, -387, -418, -451, -485, -520, -558, -596, -636, -678, -721, -766, -813, -861, -911, -963, -1017, -1072, -1130, -1189, -1250, -1313, -1378, -1445, -1514, -1586, -1659, -1735, -1812, -1893, -1975, -2060, -2147, -2236, -2328, -2422, -2519, -2619, -2721, -2826, -2933, -3044, -3157, -3273, -3392, -3513, -3638, -3766, -3897, -4031, -4169, -4309, -4453, -4601, -4751, -4906, -5064, -5225, -5390, -5559, -5731, -5908, -6088, -6272, -6461, -6653, -6850, -7051, -7256, -7465, -7679, -7898, -8121, -8349, -8581, -8818, -9060, -9307, -9560, -9817, -10079, -10347, -10620, -10899, -11183, -11472, -11768, -12069, -12376, -12689, -13008, -13333, -13665, -14003, -14347, -14698, -15056, -15420, -15791, -16169, -16554, -16947, -17346, -17753, -18168, -18590, -19020, -19457, -19903, -20356, -20818, -21288, -21767, -22254, -22750, -23255, -23769, -24292, -24824, -25365, -25916, -26476, -27047, -27627, -28217, -28818, -29429, -30050, -30682, -31325, -31979, -32644, -33320, -34008, -34707, -35418, -36141, -36877, -37624, -38384, -39157, -39943, -40741, -41553, -42379, -43217, -44070, -44937, -45817, -46713, -47622, -48547, -49487, -50441, -51412, -52398, -53399, -54417, -55451, -56502, -57569, -58654, -59756, -60875, -62012, -63167, -64340, -65532, -66742, -67971, -69220, -70488, -71776, -73084, -74412, -75761, -77131, -78522, -79934, -81368, -82825, -84303, -85805, -87329, -88877, -90448, -92043, -93663, -95307, -96976, -98670, -100390, -102135, -103907, -105706, -107532, -109385, -111266, -113175, -115112, -117078, -119074, -121099, -123154, -125240, -127357, -129504, -131684, -133895, -136140, -138417, -140727, -143071, -145450, -147863, -150312, -152796, -155317, -157874, -160468, -163099, -165769, -168477, -171225, -174012, -176839, -179707, -182616, -185566, -188559, -191595, -194674, -197797, -200965, -204177, -207436, -210740, -214092, -217491, -220938, -224433, -227979, -231574, -235219, -238916, -242665, -246467, -250322, -254230, -258194, -262213, -266288, -270420, -274609, -278856, -283163, -287529, -291956, -296445, -300995, -305608, -310285, -315026, -319833, -324706, -329646, -334654, -339730, -344876, -350093, -355381, -360741, -366174, -371681, -377264, -382922, -388658, -394471, -400363, -406335, -412388, -418523, -424741, -431043, -437430, -443903, -450463, -457112, -463850, -470678, -477598, -484611, -491718, -498920, -506218, -513614, -521108, -528703, -536398, -544196, -552098, -560105, -568218, -576439, -584769, -593209, -601761, -610426, -619205, -628100, -637113, -646244, -655496, -664869, -674366, -683987, -693735, -703611, -713615, -723751, -734020, -744423, -754962, -765638, -776453, -787410, -798509, -809753, -821142, -832680, -844368, -856207, -868200, -880348, -892653, -905117, -917743, -930532, -943485, -956606, -969896, -983357, -996991, -1010801, -1024788, -1038955, -1053303, -1067835, -1082554, -1097461, -1112559, -1127850, -1143336, -1159020, -1174905, -1190992, -1207283, -1223783, -1240492, -1257414, -1274551, -1291905, -1309480, -1327278, -1345301, -1363553, -1382036, -1400752, -1419705, -1438898, -1458333, -1478013, -1497942, -1518121, -1538555, -1559246, -1580197, -1601412, -1622893, -1644644, -1666668, -1688967, -1711547, -1734409, -1757557, -1780996, -1804726, -1828754, -1853081, -1877713, -1902651, -1927900, -1953464, -1979346, -2005550, -2032080, -2058940, -2086133, -2113664, -2141536, -2169755, -2198322, -2227244, -2256524, -2286166, -2316174, -2346553, -2377308, -2408442, -2439961, -2471867, -2504168, -2536866, -2569966, -2603474, -2637394, -2671731, -2706490, -2741675, -2777292, -2813346, -2849842, -2886785, -2924181, -2962034, -3000350, -3039135, -3078393, -3118131, -3158355, -3199069, -3240279, -3281992, -3324213, -3366948, -3410203, -3453984, -3498298, -3543150, -3588547, -3634495, -3681001, -3728070, -3775710, -3823928, -3872729, -3922121, -3972111, -4022705, -4073911, -4125735, -4178185, -4231268, -4284992, -4339364, -4394391, -4450080, -4506441, -4563479, -4621204, -4679624, -4738745, -4798577, -4859127, -4920404, -4982416, -5045172, -5108679, -5172948, -5237987, -5303804, -5370409, -5437811, -5506018, -5575040, -5644887, -5715567, -5787092, -5859469, -5932709, -6006823, -6081819, -6157708, -6234501, -6312208, -6390839, -6470404, -6550915, -6632382, -6714817, -6798230, -6882633, -6968036, -7054452, -7141892, -7230367, -7319890, -7410473, -7502127, -7594865, -7688699, -7783641, -7879705, -7976903, -8075249, -8174754, -8275433, -8377298, -8480364, -8584643, -8690151, -8796900, -8904904, -9014179, -9124739, -9236598, -9349770, -9464272, -9580117, -9697322, -9815901, -9935870, -10057245, -10180043, -10304278, -10429968, -10557129, -10685777, -10815929, -10947603, -11080815, -11215584, -11351925, -11489859, -11629402, -11770572, -11913388, -12057869, -12204034, -12351900, -12501489, -12652818, -12805908, -12960779, -13117450, -13275942, -13436275, -13598471, -13762549, -13928532, -14096441, -14266298, -14438123, -14611940, -14787771, -14965639, -15145566, -15327576, -15511692, -15697937, -15886336, -16076913, -16269692, -16464697, -16661955, -16861490, -17063327, -17267493, -17474013, -17682915, -17894224, -18107967, -18324172, -18542867, -18764079, -18987836, -19214168, -19443101, -19674667, -19908894, -20145811, -20385449, -20627839, -20873011, -21120996, -21371825, -21625531, -21882145, -22141699, -22404228, -22669762, -22938337, -23209987, -23484744, -23762644, -24043722, -24328014, -24615554, -24906380, -25200527, -25498033, -25798935, -26103271, -26411079, -26722397, -27037264, -27355721, -27677806, -28003561, -28333025, -28666240, -29003247, -29344090, -29688809, -30037448, -30390051, -30746662, -31107324, -31472083, -31840984, -32214073, -32591397, -32973001, -33358934, -33749244, -34143979, -34543187, -34946918, -35355223, -35768152, -36185755, -36608085, -37035193, -37467133, -37903958, -38345721, -38792477, -39244282, -39701191, -40163260, -40630546, -41103107, -41581000, -42064285, -42553021, -43047267, -43547086, -44052537, -44563683, -45080587, -45603312, -46131922, -46666481, -47207056, -47753712, -48306516, -48865536, -49430840, -50002496, -50580576, -51165149, -51756287, -52354061, -52958545, -53569811, -54187936, -54812993, -55445059, -56084210, -56730525, -57384081, -58044959, -58713238, -59389000, -60072325, -60763298, -61462002, -62168522, -62882942, -63605350, -64335833, -65074479, -65821377, -66576619, -67340294, -68112495, -68893315, -69682848, -70481191, -71288437, -72104686, -72930035, -73764584, -74608433, -75461683, -76324437, -77196799, -78078873, -78970765, -79872583, -80784435, -81706429, -82638677, -83581290, -84534381, -85498064, -86472455, -87457669, -88453825, -89461043, -90479441, -91509142, -92550269, -93602947, -94667299, -95743455, -96831541, -97931688, -99044026, -100168689, -101305809, -102455522, -103617966, -104793277, -105981596, -107183064, -108397824, -109626020, -110867797, -112123303, -113392687, -114676099, -115973692, -117285618, -118612034, -119953096, -121308963, -122679795, -124065755, -125467006, -126883714, -128316046, -129764171, -131228260, -132708486, -134205023, -135718048, -137247740, -138794277, -140357843, -141938621, -143536798, -145152561, -146786101, -148437610, -150107281, -151795310, -153501897, -155227241, -156971545, -158735013, -160517852, -162320272, -164142483, -165984698, -167847135, -169730010, -171633544, -173557960, -175503482, -177470339, -179458760, -181468977, -183501225, -185555742, -187632767, -189732542, -191855313, -194001326, -196170833, -198364086, -200581340, -202822853, -205088887, -207379705, -209695574, -212036762, -214403543, -216796191, -219214984, -221660202, -224132131, -226631057, -229157270, -231711062, -234292730, -236902574, -239540895, -242208000, -244904196, -247629797, -250385118, -253170477, -255986197, -258832603, -261710024, -264618794, -267559247, -270531723, -273536566, -276574122, -279644742, -282748780, -285886594, -289058546, -292265001, -295506328, -298782901, -302095097, -305443297, -308827887, -312249256, -315707797, -319203908, -322737991, -326310451, -329921700, -333572151, -337262224, -340992342, -344762934, -348574431, -352427270, -356321894, -360258748, -364238284, -368260957, -372327228, -376437562, -380592429, -384792305, -389037671, -393329011, -397666816, -402051581, -406483808, -410964002, -415492676, -420070345, -424697533, -429374766, -434102580, -438881511, -443712106, -448594914, -453530491, -458519401, -463562210, -468659493, -473811829, -479019806, -484284014, -489605052, -494983526, -500420047, -505915231, -511469704, -517084095, -522759042, -528495189, -534293187, -540153693, -546077372, -552064895, -558116941, -564234195, -570417351, -576667108, -582984174, -589369265, -595823101, -602346414, -608939941, -615604427, -622340627, -629149300, -636031217, -642987154, -650017897, -657124239, -664306983, -671566939, -678904925, -686321770, -693818309, -701395388, -709053860, -716794588, -724618443, -732526307, -740519070, -748597632, -756762900, -765015795, -773357243, -781788184, -790309563, -798922340, -807627481, -816425964, -825318778, -834306920, -843391400, -852573236, -861853459, -871233111, -880713241, -890294913, -899979202, -909767191, -919659978, -929658671, -939764388, -949978262, -960301435, -970735062, -981280310, -991938359, -1002710401, -1013597639, -1024601290, -1035722584, -1046962762, -1058323081, -1069804809, -1081409226, -1093137629, -1104991326, -1116971638, -1129079903, -1141317470, -1153685704, -1166185982, -1178819697, -1191588258, -1204493085, -1217535616, -1230717303, -1244039613, -1257504027, -1271112045, -1284865179, -1298764958, -1312812929, -1327010652, -1341359705, -1355861681, -1370518193, -1385330867, -1400301348, -1415431298, -1430722396, -1446176337, -1461794837, -1477579628, -1493532459, -1509655100, -1525949337, -1542416975, -1559059839, -1575879772, -1592878637, -1610058316, -1627420710, -1644967741]
    level -= 1
    final_level -= 1

    azul = (100, 149, 237)
    vermelho = (255, 0, 0)
    verde = (0, 255, 0)
    amarelo_ouro = (255, 215, 0)
    branco = (255, 255, 255)
    azul_mana = (68, 187, 255)
    laranja_mythic = (240, 160, 0)

    imagem = Image.open(r"backgrounds/experience_calculator_background.png")
    fonte_arial = r"fonts/arialbd.ttf"
    fonte_fc_bold = r"fonts/FiraCode-Bold.ttf"
    helvetica = r"fonts/Helvetica.ttf"
    helvetica_bold = r"fonts/Helvetica-Bold.ttf"
    teko_medium = r"fonts/Teko-Medium.ttf"
    teko_bold = r"fonts/Teko-Bold.ttf"
    teko_regular =r"fonts/Teko-Regular.ttf"
    teko_light =r"fonts/Teko-Light.ttf"

    # print(f"from {levels[level]} to {levels[final_level]}")
    # print(f"total mana: {(100+(levels[final_level])*10)}")
    # print(f"total hp: {(100+(levels[final_level])*15)}")
    # print(f"speed: {300 + (int(final_level / 2.5))}")

    exp_necessario_level = exp_levels[final_level] - exp_levels[level] 
    # print(f"you will need {exp_necessario_level:,} experience to reach {levels[final_level]}")
    # print(f"{levels[final_level]} total experience = {exp_levels[final_level]:,}")
    # print(f"exp lost at level {levels[final_level]} : {exp_lost[final_level]:,}")

    # print(f"gold lost for level {levels[final_level]}: \n")

    gold = levels[final_level] * 150
    orange =  levels[final_level] * 450
    red = levels[final_level] * 1350
    black = levels[final_level] * 4050
    

    # print(f"gold: {gold:,}")
    # print(f"orange: {orange:,}")
    # print(f"red: {red:,}")
    # print(f"1x black: {black:,}")

    # num_blacks = 10
    # for a in range (1, 12):
    #     print(f"{a+1}x blacks: {(black) * (3 ** a) :,}")
    # print("\n")
    ## TOTAL CURSED

    gold_cursed = gold
    orange_cursed = gold + orange
    red_cursed = gold + orange + red
    black_cursed = gold + orange + red + black

    # print(f"gold: {gold_cursed:,}")
    # print(f"orange: {orange_cursed:,}")
    # print(f"red: {red_cursed:,}")
    # print(f"1x black: {black_cursed:,}")

    for a in range (1, 12):
        black_cursed += (black) * (3 ** a)
        # print(f"{a+1}x blacks: {black_cursed:,}")


    desenhando = ImageDraw.Draw(imagem)

    desenhando.text((20, 20), f"Experience", font=ImageFont.truetype(teko_medium, 100), fill=amarelo_ouro)
    desenhando.text((20, 100), f"Calculator", font=ImageFont.truetype(teko_medium, 100),fill=laranja_mythic)
    texto1 = "From Level "
    texto2 = f"{levels[level]} "
    texto3 = "to "
    texto4 = f"{levels[final_level]}"

    x_inicial_t = 970
    y_inicial_t = 40

    for texto, color in[(texto1, branco,), (texto2, amarelo_ouro), (texto3, branco), (texto4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 80), fill=color)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 80))
        x_inicial_t += largura
        # if texto == "From level ":
        #     x_inicial_t -= 65
        # if texto == "to ":
        #     x_inicial_t -= 25

    t1 = "- You will need "
    t2 = f"{exp_necessario_level:,} "
    t3 = "experience to reach level "
    t4 = f"{levels[final_level]} "

    x_inicial_t = 575
    y_inicial_t = 150

    for texto, cor in [(t1, branco), (t2, verde), (t3, branco), (t4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    t1 = "- Level "
    t2 = f"{levels[final_level]:,} "
    t3 = "total experience "
    t4 = f"{exp_levels[final_level]:,} "

    x_inicial_t = 575
    y_inicial_t = 200

    for texto, cor in [(t1, branco), (t2, verde), (t3, branco), (t4, laranja_mythic)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    

    t1 = f"- Total HP and MP "
    t2 = f"{(100+(levels[final_level])*15)} "
    t3 = "- "
    t4 = f"{(100+(levels[final_level])*10)} "

    x_inicial_t = 575
    y_inicial_t = 250

    for texto, cor in [(t1, branco), (t2, vermelho), (t3, branco), (t4, azul_mana),]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    t1 = f"- Total Speed "
    t2 = f"{300 + (int(final_level / 2.5))} "

    x_inicial_t = 575
    y_inicial_t = 300

    for texto, cor in [(t1, branco), (t2, amarelo_ouro)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    t1 = f"- Experience lost per death "
    t2 = f"{exp_lost[final_level]:,} "
  

    x_inicial_t = 575
    y_inicial_t = 350

    for texto, cor in [(t1, branco), (t2, vermelho)]:
        desenhando.text((x_inicial_t, y_inicial_t), texto, font=ImageFont.truetype(teko_medium, 50), fill=cor)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
        x_inicial_t += largura  # move o cursor para a direita

    desenhando.text((900, 485), "Gold needed for each skull", font=ImageFont.truetype(teko_medium, 80), fill=branco)

    gold_skulls = []

    gold_cursed = gold
    gold_skulls.append(f"{gold_cursed:,}")
    gold_skulls.append(f"{gold_cursed:,}")
    orange_cursed = gold + orange
    gold_skulls.append(f"{orange_cursed:,}")
    red_cursed = gold + orange + red
    gold_skulls.append(f"{red_cursed:,}")
    black_cursed = gold + orange + red + black
    gold_skulls.append(f"1x {black_cursed:,}")

    # print(f"gold: {gold_cursed:,}")
    # print(f"orange: {orange_cursed:,}")
    # print(f"red: {red_cursed:,}")
    # print(f"1x black: {black_cursed:,}")

    for a in range (1, 13):
        black_cursed += (black) * (3 ** a)
        gold_skulls.append(f"{a+1}x {black_cursed:,}")
        # print(f"{a+1}x blacks: {black_cursed:,}")

    y_inicial_t = 580
    for a in range(8):
        desenhando.text((650, y_inicial_t), str(gold_skulls[a]), font=ImageFont.truetype(teko_medium, 50), fill=amarelo_ouro)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
            # x_inicial_t += largura  # move o cursor para a direita
        y_inicial_t += 55

    y_inicial_t = 580
    for a in range(8, 16):
        desenhando.text((1200, y_inicial_t), str(gold_skulls[a]), font=ImageFont.truetype(teko_medium, 50), fill=amarelo_ouro)
        largura = desenhando.textlength(texto, font=ImageFont.truetype(teko_medium, 50))
            # x_inicial_t += largura  # move o cursor para a direita
        y_inicial_t += 55

#     imagem.show()
# level_calculation(600, 700)

    buffer = BytesIO()
    imagem.save(buffer, format="PNG")
    buffer.seek(0)
    return buffer